{%extends 'base.html' %}



{%block content%}

{% for message in get_flashed_messages() %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
   {{message}}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>




{%endfor%}

    {%if name%}
        <h1>Hello {{name}}!!</h1>
      {%endif%}
        <h1>User List:</h1>
        </br>
       <div class="shadow p-3 mb-5 bg-body rounded">
        <form method="POST">
            {{form.hidden_tag()}}
            {{form.username.label(class="form-label")}}
            {{form.username(class="form-control")}}
            <br/>
            {{form.name.label(class="form-label")}}
            {{form.name(class="form-control")}}
            <br />
            {{form.email.label(class="form-label")}}
            {{form.email(class="form-control")}}
            <br/>
            {{form.about_author.label(class="form-label")}}
            {{form.about_author(class="form-control")}}
            <br/>
            {{form.password_hash.label(class="form-label")}}
            {{form.password_hash(class="form-control")}}
            <br/>
            {{form.password_hash2.label(class="form-label")}}
            {{form.password_hash2(class="form-control")}}
            <br/>

            {{form.submit(class="btn btn-secondary")}}
        </form>
       </div>

         <div class="shadow p-3 mb-5 bg-body rounded">
        <table class="table table-hover table-bordered table-striped">

                {% for user in our_users%}
                    <tr>
                        <td>{{user.id}}. <a href="{{url_for('update', id=user.id)}}">{{user.name}}</a> - {{user.username}} - {{user.email}} - {{user.favourite_color}} - Password: {{user.password_hash}} - <a href="{{url_for('delete_user', id=user.id)}}">Delete</a></td>
                    </tr>


        {% endfor %}
        </table>
         </div>





{%endblock%}